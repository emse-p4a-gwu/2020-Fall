<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Data Analysis 1 - Data Frames</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="icon" href="images/favicon.ico">
<script src="https://kit.fontawesome.com/1392a7030f.js" crossorigin="anonymous"></script>
<style type="text/css">

/* Text */

h1 {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 60px;
}
h2 {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 50px;
}
h3 {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 40px;
}
body {
  font-size: 16px;
  line-height: 26px;
}
blockquote {
  background-color: #ecf0f1;
  padding: 20px;
  border-color: #2296f3;
  border-radius: 5px;
}
blockquote h3 {
  margin-top: 0px;
}

/* Images */

img {
  padding-bottom: 10px;
}

/* Tables */

table {
  border-collapse: collapse;
  margin-bottom:10px;
}
thead {
  border-top: solid #DCDCDC;
  border-bottom: solid #DCDCDC;
}
tr.odd {
  background-color: #F8F8F8;
}
tr:first-child {
  border-top: solid #DCDCDC;
}
tr:last-child {
  border-bottom: solid #DCDCDC;
}

</style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 64px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">P4A - Fall 2020</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="syllabus.html">
    <span class="far fa-map"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="schedule.html">
    <span class="far fa-calendar-alt"></span>
     
    Schedule
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Lessons
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="L0-course-prep.html">0: Course Prep</a>
    </li>
    <li>
      <a href="L1.1-course-introduction.html">Week 1.1: Course Introduction</a>
    </li>
    <li>
      <a href="L1.2-getting-started.html">Week 1.2: Getting Started</a>
    </li>
    <li>
      <a href="L1.3-operations-data-types.html">Week 1.3: Operations &amp; Data Types</a>
    </li>
    <li>
      <a href="L2-functions-packages.html">Week 2: Functions &amp; Packages</a>
    </li>
    <li>
      <a href="L3-creating-functions.html">Week 3: Creating functions</a>
    </li>
    <li>
      <a href="L4.1-conditionals.html">Week 4.1: Conditionals</a>
    </li>
    <li>
      <a href="L4.2-testing-debugging.html">Week 4.2: Testing &amp; Debugging</a>
    </li>
    <li>
      <a href="L5-loops.html">Week 5: Loops</a>
    </li>
    <li>
      <a href="L6-vectors.html">Week 6: Vectors</a>
    </li>
    <li>
      <a href="L7-strings.html">Week 7: Strings</a>
    </li>
    <li>
      <a href="L9-python-intro.html">
        <span class="fab fa-python"></span>
         
        Week 9: Introduction to Python
      </a>
    </li>
    <li>
      <a href="L11.1-data-analysis-prelude.html">Week 11-1: Data Analysis Prelude</a>
    </li>
    <li>
      <a href="L11.2-data-frames.html">Week 11-2: Data Frames</a>
    </li>
    <li>
      <a href="L12-data-wrangling.html">Week 12: Data Wrangling</a>
    </li>
    <li>
      <a href="L13-data-visualization.html">Week 13: Data Visualization</a>
    </li>
    <li>
      <a href="L14-reproducible-reporting.html">Week 14: Reproducible Reporting</a>
    </li>
    <li>
      <a href="L15-monte-carlo-methods.html">Week 15: Monte Carlo Methods</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-laptop"></span>
     
    Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="hw1-getting-started.html">HW 1 - Getting Started</a>
    </li>
    <li>
      <a href="hw2-functions-packages.html">HW 2 - Functions &amp; Packages</a>
    </li>
    <li>
      <a href="hw3-creating-functions.html">HW 3 - Creating Functions</a>
    </li>
    <li>
      <a href="hw4-conditionals-testing.html">HW 4 - Conditionals &amp; Testing</a>
    </li>
    <li>
      <a href="hw5-loops.html">HW 5 - Loops</a>
    </li>
    <li>
      <a href="hw6-vectors.html">HW 6 - Vectors</a>
    </li>
    <li>
      <a href="hw7-strings.html">HW 7 - Strings</a>
    </li>
    <li>
      <a href="hw8-python.html">HW 8 - Python</a>
    </li>
    <li>
      <a href="hw9-data-frames.html">HW 9 - Data Frames</a>
    </li>
    <li>
      <a href="hw10-data-wrangling.html">HW 10 - Data Wrangling</a>
    </li>
    <li>
      <a href="hw11-data-visualization.html">HW 11 - Data Visualization</a>
    </li>
    <li>
      <a href="hw12-reproducible-reporting.html">HW 12 - Reproducible Reporting</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="far fa-bookmark"></span>
     
    References
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ref-getting-help.html">
        <span class="fa fa-question-circle"></span>
         
        Getting Help
      </a>
    </li>
    <li>
      <a href="ref-programming.html">
        <span class="fa fa-terminal"></span>
         
        Programming in R
      </a>
    </li>
    <li>
      <a href="ref-visualizing-data.html">
        <span class="fa fa-chart-bar"></span>
         
        Visualizing Data
      </a>
    </li>
    <li>
      <a href="ref-rmarkdown.html">
        <span class="fa fa-feather-alt"></span>
         
        R Markdown
      </a>
    </li>
    <li>
      <a href="ref-other.html">
        <span class="fa fa-expand"></span>
         
        Other
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-tools"></span>
     
    Tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="autograder.html">
        <span class="fas fa-tasks"></span>
         
        Autograder
      </a>
    </li>
    <li>
      <a href="https://emse-p4a-f20.slack.com">
        <span class="fab fa-slack"></span>
         
        Slack
      </a>
    </li>
    <li>
      <a href="https://rstudio.seas.gwu.edu/">
        <span class="fab fa-r-project"></span>
         
        RStudio Server
      </a>
    </li>
    <li>
      <a href="https://jhelvy.appointlet.com/b/professor-helveston">
        <span class="fas fa-user-clock"></span>
         
        Schedule a meeting w/Prof. Helveston
      </a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bars"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about.html">
        <span class="fa fa-info-circle"></span>
         
        About
      </a>
    </li>
    <li>
      <a href="LICENSE.html">
        <span class="fa fa-gavel"></span>
         
        License
      </a>
    </li>
    <li>
      <a href="mailto:jph@gwu.edu">
        <span class="fa fa-envelope"></span>
         
        Contact
      </a>
    </li>
    <li>
      <a href="https://github.com/emse-p4a-gwu/2020-Fall/">
        <span class="fa fa-github"></span>
         
        Source files
      </a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Data Analysis 1 - Data Frames</h1>

</div>


<p>This is the first lesson in a sequence on data analysis in R. Before reading this lesson, check out the <a href="L11.1-data-analysis-prelude.html">“Prelude to Data Analysis”</a>.</p>
<blockquote>
<h3 id="learning-objectives">Learning Objectives</h3>
<ul>
<li>Describe what a data frame is.</li>
<li>Create data frames.</li>
<li>Use indexing to subset and modify specific portions of data frames.</li>
<li>Load external data from a .csv file into a data frame.</li>
<li>Summarize the contents of a data frame.</li>
</ul>
<h3 id="suggested-readings">Suggested Readings</h3>
<ul>
<li><a href="https://www.datacamp.com/community/tutorials/intro-data-frame-r">“Introduction to Data frames in R”</a> Data Camp article, by Ryan Sheehy</li>
<li><a href="https://r4ds.had.co.nz/tibbles.html">Chapter 10</a> of “R for Data Science”, by Garrett Grolemund and Hadley Wickham</li>
<li><a href="https://rstudio-education.github.io/hopr/r-objects.html#data-frames">Chapters 5.8 - 5.11</a> of “Hands-On Programming with R”, by Garrett Grolemund</li>
</ul>
</blockquote>
<hr />
<div id="the-data-frame" class="section level1">
<h1><span class="header-section-number">1</span> The data frame</h1>
<div id="what-are-data-frames" class="section level2">
<h2><span class="header-section-number">1.1</span> What are data frames?</h2>
<p>Data frames are the <em>de facto</em> data structure for most tabular data in R. A data frame can be created by hand, but most commonly they are generated by reading in a data file (typically a <code>.csv</code> file).</p>
<p>A data frame is the representation of data in the format of a table where the columns are <strong>vectors</strong> of the same length. Because columns are vectors, each column must contain a single type of data (e.g., numeric, character, integer, logical). For example, here is a figure depicting a data frame comprising a numeric, a character, and a logical vector:</p>
<p><img src="images/data-frame.png" /></p>
</div>
<div id="the-data.frame-function" class="section level2">
<h2><span class="header-section-number">1.2</span> The <code>data.frame()</code> function</h2>
<p>You can create a data frame using the <code>data.frame()</code> function. Here is an example using of members of the Beatles band:</p>
<pre class="r"><code>beatles &lt;- data.frame(
    firstName   = c(&quot;John&quot;, &quot;Paul&quot;, &quot;Ringo&quot;, &quot;George&quot;),
    lastName    = c(&quot;Lennon&quot;, &quot;McCartney&quot;, &quot;Starr&quot;, &quot;Harrison&quot;),
    instrument  = c(&quot;guitar&quot;, &quot;bass&quot;, &quot;drums&quot;, &quot;guitar&quot;),
    yearOfBirth = c(1940, 1942, 1940, 1943),
    deceased    = c(TRUE, FALSE, FALSE, TRUE)
)
beatles</code></pre>
<pre><code>##   firstName  lastName instrument yearOfBirth deceased
## 1      John    Lennon     guitar        1940     TRUE
## 2      Paul McCartney       bass        1942    FALSE
## 3     Ringo     Starr      drums        1940    FALSE
## 4    George  Harrison     guitar        1943     TRUE</code></pre>
<p>Notice how the data frame is created - you just hand the <code>data.frame()</code> function a bunch of vectors! This should hopefully help make it clear that a data frame is indeed a series of same-length vectors structured side-by-side.</p>
</div>
<div id="the-tibble-function" class="section level2">
<h2><span class="header-section-number">1.3</span> The <code>tibble()</code> function</h2>
<p>The <a href="https://r4ds.had.co.nz/tibbles.html">tibble</a> is an improved version of the Base R data frame, and it comes from the <strong>dplyr</strong> library (which we’ll get into next lesson). If you haven’t already, go ahead and install and load the <strong>dplyr</strong> library now:</p>
<pre class="r"><code>install.packages(&#39;dplyr&#39;)
library(dplyr)</code></pre>
<p>A tibble works just like a data frame, but it has a few small features that make it a bit more useful - to the extent that from here on, we will be using tibbles as our default data frame structure. With this in mind, I’ll often use the term “data frame” to refer to both tibbles and data frames, since they serve the same purpose as a data structure.</p>
<p>Just like with data frames, you can create a tibble using the <code>tibble()</code> function. Here’s the same example as before with the Beatles band:</p>
<pre class="r"><code>beatles &lt;- tibble(
    firstName   = c(&quot;John&quot;, &quot;Paul&quot;, &quot;Ringo&quot;, &quot;George&quot;),
    lastName    = c(&quot;Lennon&quot;, &quot;McCartney&quot;, &quot;Starr&quot;, &quot;Harrison&quot;),
    instrument  = c(&quot;guitar&quot;, &quot;bass&quot;, &quot;drums&quot;, &quot;guitar&quot;),
    yearOfBirth = c(1940, 1942, 1940, 1943),
    deceased    = c(TRUE, FALSE, FALSE, TRUE)
)
beatles</code></pre>
<pre><code>## [90m# A tibble: 4 x 5[39m
##   firstName lastName  instrument yearOfBirth deceased
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;lgl&gt;[39m[23m   
## [90m1[39m John      Lennon    guitar            [4m1[24m940 TRUE    
## [90m2[39m Paul      McCartney bass              [4m1[24m942 FALSE   
## [90m3[39m Ringo     Starr     drums             [4m1[24m940 FALSE   
## [90m4[39m George    Harrison  guitar            [4m1[24m943 TRUE</code></pre>
<p>Here we can see a couple of the differences that make tibbles a bit more intuitive to use:</p>
<ol style="list-style-type: decimal">
<li>It’s easier to see what type of data each column is because tibbles display this in between the <code>&lt;&gt;</code> symbols under each column name.</li>
<li>A tibble will only print the first few rows of data when you enter the object name. In contrast, data frames will try to print <em>the entire</em> data frame (which is super annoying when you have a data frame with millions of rows of data). Here, we only have 4 rows, so this difference is not apparent.</li>
<li>Columns of class <code>character</code> are never converted into factors (don’t worry about this for now…just know that keeping strings as a <code>character</code> class generally makes life easier in R).</li>
</ol>
<p>Now that we have a data frame (tibble) defined, let’s see what we can do with it!</p>
</div>
<div id="dimensions" class="section level2">
<h2><span class="header-section-number">1.4</span> Dimensions</h2>
<p>You can get the dimensions of a data frame using the <code>ncol()</code>, <code>nrow()</code>, and <code>dim()</code> functions:</p>
<pre class="r"><code>nrow(beatles) # Returns the number of rows</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>ncol(beatles) # Returns the number of columns</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>dim(beatles) # Returns a vector of the number rows and columns</code></pre>
<pre><code>## [1] 4 5</code></pre>
</div>
<div id="row-and-column-names" class="section level2">
<h2><span class="header-section-number">1.5</span> Row and column names</h2>
<p>Data frames <strong>must</strong> have column names, but row names are optional (by default, row names are just a sequence of numbers). The <code>names()</code> function returns the column names, or you can also be more specific and use the <code>colnames()</code> and <code>rownames()</code> functions:</p>
<pre class="r"><code>names(beatles) # Returns a vector of the column names</code></pre>
<pre><code>## [1] &quot;firstName&quot;   &quot;lastName&quot;    &quot;instrument&quot;  &quot;yearOfBirth&quot; &quot;deceased&quot;</code></pre>
<pre class="r"><code>colnames(beatles) # Also returns a vector of the column names</code></pre>
<pre><code>## [1] &quot;firstName&quot;   &quot;lastName&quot;    &quot;instrument&quot;  &quot;yearOfBirth&quot; &quot;deceased&quot;</code></pre>
<pre class="r"><code>rownames(beatles) # Returns a vector of the row names</code></pre>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;</code></pre>
</div>
<div id="combining-data-frames" class="section level2">
<h2><span class="header-section-number">1.6</span> Combining data frames</h2>
<p>You can combine data frames using the <code>bind_cols()</code> and <code>bind_rows()</code> functions:</p>
<pre class="r"><code># Combine columns
names &lt;- tibble(
    firstName = c(&quot;John&quot;, &quot;Paul&quot;, &quot;Ringo&quot;, &quot;George&quot;),
    lastName  = c(&quot;Lennon&quot;, &quot;McCartney&quot;, &quot;Starr&quot;, &quot;Harrison&quot;)
)
instruments &lt;- tibble(
    instrument = c(&quot;guitar&quot;, &quot;bass&quot;, &quot;drums&quot;, &quot;guitar&quot;)
)
bind_cols(names, instruments)</code></pre>
<pre><code>## [90m# A tibble: 4 x 3[39m
##   firstName lastName  instrument
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     
## [90m1[39m John      Lennon    guitar    
## [90m2[39m Paul      McCartney bass      
## [90m3[39m Ringo     Starr     drums     
## [90m4[39m George    Harrison  guitar</code></pre>
<pre class="r"><code># Combine rows
members1 &lt;- tibble(
    firstName = c(&quot;John&quot;, &quot;Paul&quot;),
    lastName  = c(&quot;Lennon&quot;, &quot;McCartney&quot;)
)
members2 &lt;- tibble(
    firstName = c(&quot;Ringo&quot;, &quot;George&quot;),
    lastName  = c(&quot;Starr&quot;, &quot;Harrison&quot;)
)
bind_rows(members1, members2)</code></pre>
<pre><code>## [90m# A tibble: 4 x 2[39m
##   firstName lastName 
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m    
## [90m1[39m John      Lennon   
## [90m2[39m Paul      McCartney
## [90m3[39m Ringo     Starr    
## [90m4[39m George    Harrison</code></pre>
<p>Note that to combine rows, the column names must be the same. For example, if we change the second column name in <code>members2</code> to <code>"LASTNAME"</code>, you’ll get a data frame with three columns, two of which will have missing values:</p>
<pre class="r"><code>colnames(members2) &lt;- c(&quot;firstName&quot;, &quot;LASTNAME&quot;)
bind_rows(members1, members2)</code></pre>
<pre><code>## [90m# A tibble: 4 x 3[39m
##   firstName lastName  LASTNAME
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m   
## [90m1[39m John      Lennon    [31mNA[39m      
## [90m2[39m Paul      McCartney [31mNA[39m      
## [90m3[39m Ringo     [31mNA[39m        Starr   
## [90m4[39m George    [31mNA[39m        Harrison</code></pre>
</div>
</div>
<div id="accessing-elements" class="section level1">
<h1><span class="header-section-number">2</span> Accessing elements</h1>
<div id="using-the-operator" class="section level2">
<h2><span class="header-section-number">2.1</span> Using the <code>$</code> operator</h2>
<p>You can extract columns from a data frame by name by using the <code>$</code> operator plus the column name. For example, the <code>instrument</code> column can be accessed using <code>beatles$instrument</code>:</p>
<pre class="r"><code>beatles$instrument</code></pre>
<pre><code>## [1] &quot;guitar&quot; &quot;bass&quot;   &quot;drums&quot;  &quot;guitar&quot;</code></pre>
</div>
<div id="using-integer-indices" class="section level2">
<h2><span class="header-section-number">2.2</span> Using integer indices</h2>
<p>You can access elements in a data frame using brackets <code>[]</code> and indices inside the brackets. The general form is:</p>
<pre><code>DF[ROWS, COLUMNS]</code></pre>
<p>To index with integers, specify the row numbers and column numbers as vectors.</p>
<pre class="r"><code>beatles[1, 2] # Select the element in row 1, column 2</code></pre>
<pre><code>## [90m# A tibble: 1 x 1[39m
##   lastName
##   [3m[90m&lt;chr&gt;[39m[23m   
## [90m1[39m Lennon</code></pre>
<pre class="r"><code>beatles[c(1, 2), c(2, 3)] # Select the elements in rows 1 &amp; 2 and columns 2 &amp; 3</code></pre>
<pre><code>## [90m# A tibble: 2 x 2[39m
##   lastName  instrument
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     
## [90m1[39m Lennon    guitar    
## [90m2[39m McCartney bass</code></pre>
<pre class="r"><code>beatles[1:2, 2:3] # Same thing, but using the &quot;:&quot; operator</code></pre>
<pre><code>## [90m# A tibble: 2 x 2[39m
##   lastName  instrument
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     
## [90m1[39m Lennon    guitar    
## [90m2[39m McCartney bass</code></pre>
<p>If you leave either the row or column index blank, it means “selects all”:</p>
<pre class="r"><code>beatles[c(1, 2),] # Leaving the column index blank will select all columns</code></pre>
<pre><code>## [90m# A tibble: 2 x 5[39m
##   firstName lastName  instrument yearOfBirth deceased
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;lgl&gt;[39m[23m   
## [90m1[39m John      Lennon    guitar            [4m1[24m940 TRUE    
## [90m2[39m Paul      McCartney bass              [4m1[24m942 FALSE</code></pre>
<pre class="r"><code>beatles[,c(1, 2)] # Leaving the row index blank will select all rows</code></pre>
<pre><code>## [90m# A tibble: 4 x 2[39m
##   firstName lastName 
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m    
## [90m1[39m John      Lennon   
## [90m2[39m Paul      McCartney
## [90m3[39m Ringo     Starr    
## [90m4[39m George    Harrison</code></pre>
<p>You can also use negative integers to specify rows or columns to be excluded:</p>
<pre class="r"><code>beatles[-1, ] # Select all rows and except the first</code></pre>
<pre><code>## [90m# A tibble: 3 x 5[39m
##   firstName lastName  instrument yearOfBirth deceased
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;lgl&gt;[39m[23m   
## [90m1[39m Paul      McCartney bass              [4m1[24m942 FALSE   
## [90m2[39m Ringo     Starr     drums             [4m1[24m940 FALSE   
## [90m3[39m George    Harrison  guitar            [4m1[24m943 TRUE</code></pre>
</div>
<div id="using-character-indices" class="section level2">
<h2><span class="header-section-number">2.3</span> Using character indices</h2>
<p>You can use the column names to select elements in a data frame. If you do not include a <code>,</code> to designate which rows to select, R will return all the rows for the selected columns:</p>
<pre class="r"><code>beatles[c(&#39;firstName&#39;, &#39;lastName&#39;)] # Select all rows for the &quot;firstName&quot; and &quot;lastName&quot; columns</code></pre>
<pre><code>## [90m# A tibble: 4 x 2[39m
##   firstName lastName 
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m    
## [90m1[39m John      Lennon   
## [90m2[39m Paul      McCartney
## [90m3[39m Ringo     Starr    
## [90m4[39m George    Harrison</code></pre>
<pre class="r"><code>beatles[1:2, c(&#39;firstName&#39;, &#39;lastName&#39;)] # Select just the first two rows for the &quot;firstName&quot; and &quot;lastName&quot; columns</code></pre>
<pre><code>## [90m# A tibble: 2 x 2[39m
##   firstName lastName 
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m    
## [90m1[39m John      Lennon   
## [90m2[39m Paul      McCartney</code></pre>
</div>
<div id="using-logical-indices" class="section level2">
<h2><span class="header-section-number">2.4</span> Using logical indices</h2>
<p>When using a logical vector for indexing, the position where the logical vector is <code>TRUE</code> is returned. This is helpful for filtering data frame rows based on conditions. For example, if you wanted to filter out the rows for which Beatles members were still alive, you could first create a logical vector using the <code>deceased</code> column:</p>
<pre class="r"><code>beatles$deceased == FALSE</code></pre>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE</code></pre>
<p>Then, you could insert this logical vector in the row position of the <code>[]</code> brackets to filter only the rows that are <code>TRUE</code>:</p>
<pre class="r"><code>beatles[beatles$deceased == FALSE,]</code></pre>
<pre><code>## [90m# A tibble: 2 x 5[39m
##   firstName lastName  instrument yearOfBirth deceased
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;lgl&gt;[39m[23m   
## [90m1[39m Paul      McCartney bass              [4m1[24m942 FALSE   
## [90m2[39m Ringo     Starr     drums             [4m1[24m940 FALSE</code></pre>
</div>
<div id="modifying-data-frames" class="section level2">
<h2><span class="header-section-number">2.5</span> Modifying data frames</h2>
<p>You can use any of the above methods for accessing elements in a data frame to also modify those elements using the assignment operator (<code>&lt;-</code>). In addition to using brackets to modify specific elements, you can use the <code>$</code> operator to create new columns in a data frame.</p>
<p>For example, let’s create the variable <code>age</code> by subtracting the <code>yearOfBirth</code> variable from the current year:</p>
<pre class="r"><code>beatles$age &lt;- 2019 - beatles$yearOfBirth
beatles</code></pre>
<pre><code>## [90m# A tibble: 4 x 6[39m
##   firstName lastName  instrument yearOfBirth deceased   age
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;lgl&gt;[39m[23m    [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m John      Lennon    guitar            [4m1[24m940 TRUE        79
## [90m2[39m Paul      McCartney bass              [4m1[24m942 FALSE       77
## [90m3[39m Ringo     Starr     drums             [4m1[24m940 FALSE       79
## [90m4[39m George    Harrison  guitar            [4m1[24m943 TRUE        76</code></pre>
<p>You can also make a new column of all the same value by just providing one value:</p>
<pre class="r"><code>beatles$hometown &lt;- &#39;Liverpool&#39;
beatles</code></pre>
<pre><code>## [90m# A tibble: 4 x 7[39m
##   firstName lastName  instrument yearOfBirth deceased   age hometown 
##   [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;chr&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;lgl&gt;[39m[23m    [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m    
## [90m1[39m John      Lennon    guitar            [4m1[24m940 TRUE        79 Liverpool
## [90m2[39m Paul      McCartney bass              [4m1[24m942 FALSE       77 Liverpool
## [90m3[39m Ringo     Starr     drums             [4m1[24m940 FALSE       79 Liverpool
## [90m4[39m George    Harrison  guitar            [4m1[24m943 TRUE        76 Liverpool</code></pre>
</div>
</div>
<div id="dealing-with-actual-data" class="section level1">
<h1><span class="header-section-number">3</span> Dealing with actual data</h1>
<p>Now that we know what a data frame is, let’s start working with actual data! We are going to use the <code>msleep</code> dataset, which contains data on sleep times and weights of different mammals. The data are taken from <a href="https://www.pnas.org/content/104/3/1051.long">V. M. Savage and G. B. West. “A quantitative, theoretical framework for understanding mammalian sleep.” <em>Proceedings of the National Academy of Sciences</em>, 104 (3):1051-1056, 2007.</a>.</p>
<p>The dataset is stored as a comma separated value (CSV) file. Each row holds information for a single animal, and the columns represent:</p>
<table>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>name</td>
<td>Common name</td>
</tr>
<tr class="even">
<td>genus</td>
<td>The taxonomic genus of animal</td>
</tr>
<tr class="odd">
<td>vore</td>
<td>Carnivore, omnivore or herbivore?</td>
</tr>
<tr class="even">
<td>order</td>
<td>The taxonomic order of animal</td>
</tr>
<tr class="odd">
<td>conservation</td>
<td>The conservation status of the animal</td>
</tr>
<tr class="even">
<td>sleep_total</td>
<td>Total amount of sleep, in hours</td>
</tr>
<tr class="odd">
<td>sleep_rem</td>
<td>REM sleep, in hours</td>
</tr>
<tr class="even">
<td>sleep_cycle</td>
<td>Length of sleep cycle, in hours</td>
</tr>
<tr class="odd">
<td>awake</td>
<td>Amount of time spent awake, in hours</td>
</tr>
<tr class="even">
<td>brainwt</td>
<td>Brain weight in kilograms</td>
</tr>
<tr class="odd">
<td>bodywt</td>
<td>Body weight in kilograms</td>
</tr>
</tbody>
</table>
<div id="r-setup" class="section level2">
<h2><span class="header-section-number">3.1</span> R Setup</h2>
<p>Before we dig into the data, let’s prepare our analysis environment by following these steps:</p>
<ol style="list-style-type: decimal">
<li>Create a new R Project called “data_analysis_tutorial” and save the folder somewhere on your computer (see the <a href="L1-getting-started.html#83_RStudio_projects">“RStudio projects”</a> section from lesson 1 if you’re not sure what this is). This will create a folder called “data_analysis_tutorial” and also a <code>data_analysis_tutorial.RProj</code> file inside that folder.</li>
<li>Create a new <code>.R</code> file (File &gt; New File &gt; R Script), and save it as <code>data_frames.R</code> inside your “data_analysis_tutorial” folder. From here on, we’ll type all code for this lesson inside this <code>data_frames.R</code> file.</li>
<li>Create another folder in your R Project folder called “data” - we’ll put data in this folder real soon.</li>
</ol>
<p>Now that you’ve gotten your setup organized, go ahead and open the <code>data_analysis_tutorial.RProj</code> file to open RStudio, then click on the <code>data_frames.R</code> file. We’ll write code in this file.</p>
<p>There are generally two ways to load external data.</p>
</div>
<div id="method-1-loading-data-from-a-package" class="section level2">
<h2><span class="header-section-number">3.2</span> Method 1: Loading data from a package</h2>
<p>Many R packages come with pre-loaded datasets. For example, the <strong>ggplot2</strong> library (which we’ll <a href="L12-da3-data-visualization.html">use soon</a> to make plots in R) comes with the <code>msleep</code> dataset already loaded. To see this, install <strong>ggplot2</strong> and load the library:</p>
<pre class="r"><code>install.packages(&quot;ggplot2&quot;)
library(ggplot2)
head(msleep) # Preview just the first 6 rows of the data frame</code></pre>
<pre><code>## [90m# A tibble: 6 x 11[39m
##   name  genus vore  order conservation sleep_total sleep_rem sleep_cycle awake
##   [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m              [3m[90m&lt;dbl&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m Chee… Acin… carni Carn… lc                  12.1      [31mNA[39m        [31mNA[39m      11.9
## [90m2[39m Owl … Aotus omni  Prim… [31mNA[39m                  17         1.8      [31mNA[39m       7  
## [90m3[39m Moun… Aplo… herbi Rode… nt                  14.4       2.4      [31mNA[39m       9.6
## [90m4[39m Grea… Blar… omni  Sori… lc                  14.9       2.3       0.133   9.1
## [90m5[39m Cow   Bos   herbi Arti… domesticated         4         0.7       0.667  20  
## [90m6[39m Thre… Brad… herbi Pilo… [31mNA[39m                  14.4       2.2       0.767   9.6
## [90m# … with 2 more variables: brainwt [3m[90m&lt;dbl&gt;[90m[23m, bodywt [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<p>If you want to see all of the different datasets that any particular package contains, you can call the <code>data()</code> function after loading a library. For example, here are all the dataset that are contained in the <strong>ggplot2</strong> library:</p>
<pre class="r"><code>data(package = &quot;ggplot2&quot;)</code></pre>
<pre><code>Data sets in package &#39;ggplot2&#39;:

diamonds                Prices of 50,000 round cut diamonds
economics               US economic time series
economics_long          US economic time series
faithfuld               2d density estimate of Old Faithful data
luv_colours             &#39;colors()&#39; in Luv space
midwest                 Midwest demographics
mpg                     Fuel economy data from 1999 and 2008 for 38
                        popular models of car
msleep                  An updated and expanded version of the mammals
                        sleep dataset
presidential            Terms of 11 presidents from Eisenhower to Obama
seals                   Vector field of seal movements
txhousing               Housing sales in TX</code></pre>
</div>
<div id="method-2-importing-data" class="section level2">
<h2><span class="header-section-number">3.3</span> Method 2: Importing data</h2>
<p>What do you do when a dataset isn’t available from a package? Well, you can “read” the data into R from an external file. One of the most common format for storing tabular data (i.e. data that is stored as rows and columns) is the comma separated value (CSV) file.</p>
<p>To try this out yourself, download <a href="https://raw.githubusercontent.com/emse-p4a-gwu/2020-Fall/master/data/msleep.csv">this msleep.csv file</a> (click the link, then go to “File -&gt; Save” to save it) and put the file in your “data” folder that you created inside your “data_analysis_tutorial” folder.</p>
<p><strong>Note</strong>:</p>
<ul>
<li><strong>DO NOT</strong> double-click the <code>msleep.csv</code> file!</li>
<li><strong>DO NOT</strong> open it in Excel!</li>
</ul>
<p>We are going to read this data into R, so fight the temptation to open it in any other program!</p>
<div id="steps-to-importing-external-data-files" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Steps to importing external data files</h3>
<ol style="list-style-type: decimal">
<li><p>Create a path to the data</p>
<pre class="r"><code>library(here)
pathToData &lt;- here(&#39;data&#39;, &#39;data.csv&#39;)</code></pre></li>
<li><p>Import the data</p>
<pre class="r"><code>library(readr)
df &lt;- read_csv(pathToData)</code></pre></li>
</ol>
<p>Let’s break these steps down. First, I <strong>strongly</strong> recommend that you create the path to the data using the <strong>here</strong> package. The <code>here()</code> function builds the path to your current <em>working directory</em> (this is where your <code>data_analysis_tutorial.Rproj</code> file lives!). For example, if I put my “data analysis tutorial” folder on my computer’s desktop and opened up the <code>data_analysis_tutorial.Rproj</code> file, this is what the <code>here()</code> function would produce:</p>
<pre class="r"><code>here()</code></pre>
<pre><code>&quot;/Users/jhelvy/Desktop/data_analysis_tutorial&quot;</code></pre>
<p>The specific path will look different depending on where you put your project, and that’s what is so powerful! Now I can run this code on <strong>any</strong> computer and I’ll get a dynamically-generated path!</p>
<p>The arguments I give to the <code>here()</code> function are the sequence of folders and files that are inside my working directory. Since I put the <code>msleep.csv</code> file inside a folder called “data”, I can get the path to that file like this:</p>
<pre class="r"><code>pathToData &lt;- here(&#39;data&#39;, &#39;msleep.csv&#39;)
pathToData</code></pre>
<pre><code>&quot;/Users/jhelvy/Desktop/data_analysis_tutorial/data/msleep.csv&quot;</code></pre>
<p><strong>Note</strong>: Avoid hard-coding file paths (e.g. <code>'data/msleep.csv'</code>)!</p>
<p>This can break on different computers 💩💩💩</p>
<p>File paths create so many issues that the brilliant <a href="https://github.com/allisonhorst/stats-illustrations">Allison Horst</a> even made this lovely art to remind us about the joy of the <strong>here</strong> package 😄</p>
<p><img src="images/horst_monsters_here.png" width=500></p>
<p>Once you’ve got your file path, you are now ready to load the data! The Base R function for reading in a csv file is called <code>read.csv()</code>, but it has some quirky aspects in how it formats the data (in particular, character variables). So instead we are going to use an improved function, <code>read_csv()</code>, from the <code>readr</code> package.</p>
<p>First, install the readr package if you haven’t already:</p>
<pre class="r"><code>install.packages(&quot;readr&quot;)</code></pre>
<p>Now load the data:</p>
<pre class="r"><code>library(readr)
msleep &lt;- read_csv(here(&#39;data&#39;, &#39;msleep.csv&#39;))</code></pre>
<pre><code>## 
## [36m──[39m [1m[1mColumn specification[1m[22m [36m────────────────────────────────────────────────────────[39m
## cols(
##   name = [31mcol_character()[39m,
##   genus = [31mcol_character()[39m,
##   vore = [31mcol_character()[39m,
##   order = [31mcol_character()[39m,
##   conservation = [31mcol_character()[39m,
##   sleep_total = [32mcol_double()[39m,
##   sleep_rem = [32mcol_double()[39m,
##   sleep_cycle = [32mcol_double()[39m,
##   awake = [32mcol_double()[39m,
##   brainwt = [32mcol_double()[39m,
##   bodywt = [32mcol_double()[39m
## )</code></pre>
<p>R tells us that we’ve successfully read in some data and a quick summary of the data type for each column in the dataset.</p>
</div>
</div>
<div id="previewing-the-data" class="section level2">
<h2><span class="header-section-number">3.4</span> Previewing the data</h2>
<p>You can view the entire dataset in a tabular format (similar to how Excel looks) by using the <code>View()</code> function, which opens up another tab to view the data. Note that you cannot modify the data this way - you can just look at it:</p>
<pre class="r"><code>View(msleep)</code></pre>
<p>In addition to viewing the whole dataset with <code>View()</code>, you can quickly view summaries of the data frame with a few convenient functions. For example, you can look at the first 6 rows by using the <code>head()</code> function:</p>
<pre class="r"><code>head(msleep)</code></pre>
<pre><code>## [90m# A tibble: 6 x 11[39m
##   name  genus vore  order conservation sleep_total sleep_rem sleep_cycle awake
##   [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m              [3m[90m&lt;dbl&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m Chee… Acin… carni Carn… lc                  12.1      [31mNA[39m        [31mNA[39m      11.9
## [90m2[39m Owl … Aotus omni  Prim… [31mNA[39m                  17         1.8      [31mNA[39m       7  
## [90m3[39m Moun… Aplo… herbi Rode… nt                  14.4       2.4      [31mNA[39m       9.6
## [90m4[39m Grea… Blar… omni  Sori… lc                  14.9       2.3       0.133   9.1
## [90m5[39m Cow   Bos   herbi Arti… domesticated         4         0.7       0.667  20  
## [90m6[39m Thre… Brad… herbi Pilo… [31mNA[39m                  14.4       2.2       0.767   9.6
## [90m# … with 2 more variables: brainwt [3m[90m&lt;dbl&gt;[90m[23m, bodywt [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<p>Similarly, you can view the <em>last</em> 6 rows by using the <code>tail()</code> function:</p>
<pre class="r"><code>tail(msleep)</code></pre>
<pre><code>## [90m# A tibble: 6 x 11[39m
##   name  genus vore  order conservation sleep_total sleep_rem sleep_cycle awake
##   [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m              [3m[90m&lt;dbl&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m Tenr… Tenr… omni  Afro… [31mNA[39m                  15.6       2.3      [31mNA[39m       8.4
## [90m2[39m Tree… Tupa… omni  Scan… [31mNA[39m                   8.9       2.6       0.233  15.1
## [90m3[39m Bott… Turs… carni Ceta… [31mNA[39m                   5.2      [31mNA[39m        [31mNA[39m      18.8
## [90m4[39m Genet Gene… carni Carn… [31mNA[39m                   6.3       1.3      [31mNA[39m      17.7
## [90m5[39m Arct… Vulp… carni Carn… [31mNA[39m                  12.5      [31mNA[39m        [31mNA[39m      11.5
## [90m6[39m Red … Vulp… carni Carn… [31mNA[39m                   9.8       2.4       0.35   14.2
## [90m# … with 2 more variables: brainwt [3m[90m&lt;dbl&gt;[90m[23m, bodywt [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<p>You can also view an overview summary of each column and it’s data types by using the <code>str()</code> or <code>glimpse()</code> functions (these both do the same thing, but I prefer the output of <code>glimpse()</code>):</p>
<pre class="r"><code>glimpse(msleep)</code></pre>
<pre><code>## Rows: 83
## Columns: 11
## $ name         [3m[90m&lt;chr&gt;[39m[23m &quot;Cheetah&quot;, &quot;Owl monkey&quot;, &quot;Mountain beaver&quot;, &quot;Greater sho…
## $ genus        [3m[90m&lt;chr&gt;[39m[23m &quot;Acinonyx&quot;, &quot;Aotus&quot;, &quot;Aplodontia&quot;, &quot;Blarina&quot;, &quot;Bos&quot;, &quot;Br…
## $ vore         [3m[90m&lt;chr&gt;[39m[23m &quot;carni&quot;, &quot;omni&quot;, &quot;herbi&quot;, &quot;omni&quot;, &quot;herbi&quot;, &quot;herbi&quot;, &quot;car…
## $ order        [3m[90m&lt;chr&gt;[39m[23m &quot;Carnivora&quot;, &quot;Primates&quot;, &quot;Rodentia&quot;, &quot;Soricomorpha&quot;, &quot;Ar…
## $ conservation [3m[90m&lt;chr&gt;[39m[23m &quot;lc&quot;, NA, &quot;nt&quot;, &quot;lc&quot;, &quot;domesticated&quot;, NA, &quot;vu&quot;, NA, &quot;dom…
## $ sleep_total  [3m[90m&lt;dbl&gt;[39m[23m 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, …
## $ sleep_rem    [3m[90m&lt;dbl&gt;[39m[23m NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8,…
## $ sleep_cycle  [3m[90m&lt;dbl&gt;[39m[23m NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, …
## $ awake        [3m[90m&lt;dbl&gt;[39m[23m 11.9, 7.0, 9.6, 9.1, 20.0, 9.6, 15.3, 17.0, 13.9, 21.0, …
## $ brainwt      [3m[90m&lt;dbl&gt;[39m[23m NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, …
## $ bodywt       [3m[90m&lt;dbl&gt;[39m[23m 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.0…</code></pre>
<p>Finally, you can view summary statistics for each column using the <code>summary()</code> function:</p>
<pre class="r"><code>summary(msleep)</code></pre>
<pre><code>##      name              genus               vore              order          
##  Length:83          Length:83          Length:83          Length:83         
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                             
##                                                                             
##                                                                             
##                                                                             
##  conservation        sleep_total      sleep_rem      sleep_cycle    
##  Length:83          Min.   : 1.90   Min.   :0.100   Min.   :0.1167  
##  Class :character   1st Qu.: 7.85   1st Qu.:0.900   1st Qu.:0.1833  
##  Mode  :character   Median :10.10   Median :1.500   Median :0.3333  
##                     Mean   :10.43   Mean   :1.875   Mean   :0.4396  
##                     3rd Qu.:13.75   3rd Qu.:2.400   3rd Qu.:0.5792  
##                     Max.   :19.90   Max.   :6.600   Max.   :1.5000  
##                                     NA&#39;s   :22      NA&#39;s   :51      
##      awake          brainwt            bodywt        
##  Min.   : 4.10   Min.   :0.00014   Min.   :   0.005  
##  1st Qu.:10.25   1st Qu.:0.00290   1st Qu.:   0.174  
##  Median :13.90   Median :0.01240   Median :   1.670  
##  Mean   :13.57   Mean   :0.28158   Mean   : 166.136  
##  3rd Qu.:16.15   3rd Qu.:0.12550   3rd Qu.:  41.750  
##  Max.   :22.10   Max.   :5.71200   Max.   :6654.000  
##                  NA&#39;s   :27</code></pre>
<p>In summary, here is a non-exhaustive list of functions to get a sense of the content/structure of a data frame:</p>
<ul>
<li>Size:
<ul>
<li><code>dim(df)</code> - returns a vector with the number of rows in the first element, and the number of columns as the second element (the <strong>dim</strong>ensions of the object).</li>
<li><code>nrow(df)</code> - returns the number of rows.</li>
<li><code>ncol(df)</code> - returns the number of columns.</li>
</ul></li>
<li>Content:
<ul>
<li><code>head(df)</code> - shows the first 6 rows.</li>
<li><code>tail(df)</code> - shows the last 6 rows.</li>
</ul></li>
<li>Names:
<ul>
<li><code>names(df)</code> - returns the column names (synonym of <code>colnames()</code> for <code>data.frame</code> objects).</li>
<li><code>rownames(df)</code> - returns the row names.</li>
</ul></li>
<li>Summary:
<ul>
<li><code>glimpse(df)</code> or <code>str(df)</code> - structure of the object and information about the class, length and content of each column.</li>
<li><code>summary(df)</code> - summary statistics for each column.</li>
</ul></li>
</ul>
<p>Note: most of these functions are “generic”, they can be used on other types of objects besides <code>data.frame</code>.</p>
<hr />
</div>
</div>
<div id="now-what" class="section level1">
<h1><span class="header-section-number">4</span> Now what?</h1>
<p>Now that you’ve got some data into R and are up to speed with what a data frame / tibble is, you may be asking, “so what now?” Well, over the next two lessons we will learn more about how to manipulate data frames and explore the underlying information with visualizations.</p>
<p>But just to give you an idea of where we’re going, here are a few pieces of information from the <code>msleep</code> dataset:</p>
<ol style="list-style-type: decimal">
<li>It appears that mammalian brain and body weight are logarithmically correlated - cool!</li>
</ol>
<pre class="r"><code>library(ggplot2)
ggplot(msleep, aes(x=brainwt, y=bodywt)) +
    geom_point(alpha=0.6) +
    stat_smooth(method=&#39;lm&#39;, col=&#39;red&#39;, se=F, size=0.7) +
    scale_x_log10() +
    scale_y_log10() +
    labs(x=&#39;log(brain weight) in g&#39;, y=&#39;log(body weight) in kg&#39;) +
    theme_minimal()</code></pre>
<p><img src="L11.2-data-frames_files/figure-html/unnamed-chunk-32-1.png" width="576" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>It appears there may also be a negative, logarithmic relationship (albeit weaker) between the size of mammalian brains and how much they sleep - cool!</li>
</ol>
<pre class="r"><code>ggplot(msleep, aes(x=brainwt, y=sleep_total)) +
    geom_point(alpha=0.6) +
    scale_x_log10() +
    scale_y_log10() +
    stat_smooth(method=&#39;lm&#39;, col=&#39;red&#39;, se=F, size=0.7) +
    labs(x=&#39;log(brain weight) in g&#39;, y=&#39;log(total sleep time) in hours&#39;) +
    theme_minimal()</code></pre>
<p><img src="L11.2-data-frames_files/figure-html/unnamed-chunk-33-1.png" width="576" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Wow, there’s a lot of variation in how much different mammals sleep - cool!</li>
</ol>
<pre class="r"><code>ggplot(msleep, aes(x=sleep_total)) +
    geom_histogram() +
    labs(x     = &#39;Total sleep time in hours&#39;,
         title = &#39;Histogram of total sleep time&#39;) +
    theme_minimal()</code></pre>
<p><img src="L11.2-data-frames_files/figure-html/unnamed-chunk-34-1.png" width="576" style="display: block; margin: auto;" /></p>
<hr />
<p><strong>Page sources</strong>:</p>
<p>Some content on this page has been modified from other courses, including:</p>
<ul>
<li><a href="https://datacarpentry.org/R-ecology-lesson/">Data Analysis and Visualization in R for Ecologists</a>, by François Michonneau &amp; Auriel Fournier. Zenodo: <a href="http://doi.org/10.5281/zenodo.3264888" class="uri">http://doi.org/10.5281/zenodo.3264888</a></li>
</ul>
</div>


<hr>

<div>
<center>
    EMSE 4574: Programming for Analytics (Fall 2020) | <a href="https://github.com/emse-p4a-gwu/2020-Fall"><i class="fab fa-github"></i></a>
    <br>
    <i class="far fa-calendar-alt"></i> Tuesdays |
    <i class="far fa-clock"></i> 12:45 - 3:15 PM |
    <a href="https://www.jhelvy.com"><i class="fas fa-user"></i> Dr. John Paul Helveston</a> |
    <a href="mailto:jph@gwu.edu"><i class="fas fa-envelope"></i> jph@gwu.edu</a>
    <br>
    Content <a href="https://creativecommons.org/licenses^/by/4.0/"><i class="fab fa-creative-commons"></i> 2020 </a><a href="https://www.jhelvy.com">John Paul Helveston.</a> See the <a href="LICENSE.html">licensing</a> page for details.
</center>
</div>

<!-- Add function to open links to external links in new tab, from: -->
<!-- https://yihui.name/en/2018/09/target-blank/ -->

<script src="js/external-link.js"></script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
